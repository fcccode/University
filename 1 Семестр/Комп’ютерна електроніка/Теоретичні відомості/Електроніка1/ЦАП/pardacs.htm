 

 
<h2 align="center"><font color="#000080">Параллельные ЦАП</font></h2>
<a name="1"></a>
<h3 align="center">ЦАП с cуммированием весовых токов</h3>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Большинство схем
параллельных ЦАП основано на суммировании токов,
сила каждого из которых пропорциональна весу
цифрового двоичного разряда, причем должны
суммироваться только токи разрядов, значения
которых равны 1. Пусть, например, требуется
преобразовать двоичный четырехразрядный код в
аналоговый сигнал тока. У четвертого, старшего
значащего разряда
(СЗР) вес будет равен 2<sup>3</sup>=8, у третьего разряда – 2<sup>2</sup>=4, у второго
– 2<sup>1</sup>=2 и
у младшего (МЗР) – 2<sup>0</sup>=1. Если вес МЗР <i>I</i><sub>МЗР</sub>=1 мА, то <i>I</i><sub>СЗР</sub>=8 мА, а максимальный
выходной ток преобразователя <i>I</i><sub>вых.макс</sub>=15 мА и
соответствует коду 1111<sub>2</sub>. Понятно, что коду 1001<sub>2</sub>, например,
будет соответствовать <i>I</i><sub>вых</sub>=9 мА и т.д.
Следовательно, требуется построить схему, обеспечивающую
генерацию и коммутацию по заданным законам
точных весовых токов. Простейшая схема,
реализующая указанный принцип, приведена на рис.
3.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Сопротивления резисторов
выбирают так, чтобы при замкнутых ключах через
них протекал ток, соответствующий весу разряда.
Ключ должен быть замкнут тогда, когда
соответствующий ему бит входного слова равен
единице. Выходной ток определяется соотношением</p>
 
<p ALIGN="center"><img src="images/components/dac/form86.gif" width=207 height=49 alt="" border="0"></p>
 
<p ALIGN="center"><img src="images/components/dac/Acim83.gif" width=349 height=213 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; При
высокой разрядности ЦАП токозадающие резисторы
должны быть согласованы с высокой точностью.
Наиболее жесткие требования по точности
предъявляются к резисторам старших разрядов,
поскольку разброс токов в них не должен
превышать тока младшего разряда. Поэтому разброс
сопротивления в <i>k</i>-м разряде должен быть меньше,
чем </p>
 
<p ALIGN="center"><font face="Symbol">D</font><i>R</i> /<i> R</i>=2<sup>–<i>k</i></sup>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Из этого условия следует,
что разброс сопротивления резистора, например, в
четвертом разряде не должен превышать 3%, а в 10-м
разряде – 0,05% и т.д.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Рассмотренная схема при
всей ее простоте обладает целым букетом
недостатков. Во-первых, при различных входных
кодах ток, потребляемый от источника опорного
напряжения (ИОН), будет различным, а это повлияет
на величину выходного напряжения ИОН. Во-вторых,
значения сопротивлений весовых резисторов могут
различаться в
тысячи раз, а это делает весьма затруднительной
реализацию этих резисторов в полупроводниковых
ИМС. Кроме того, сопротивление резисторов
старших разрядов в многоразрядных ЦАП может быть
соизмеримым с сопротивлением замкнутого ключа, а
это приведет к погрешности преобразования.
В-третьих, в этой схеме к разомкнутым ключам
прикладывается значительное напряжение, что
усложняет их построение.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Эти недостатки устранены в
схеме ЦАП AD7520 (отечественный аналог 572ПА1), разработанном
фирмой Analog Devices в 1973 году, которая в настоящее время
является по существу промышленным стандартом (по
ней выполнены многие серийные модели ЦАП).
Указанная схема представлена на рис. 4. В качестве
ключей здесь используются МОП-транзисторы.</p>
 
 
<p ALIGN="center"><img src="images/components/dac/Acim84.gif" width=471 height=230 alt="" border="0">
 
<h4 ALIGN="center">Рис. 4. Схема ЦАП с переключателями и матрицей постоянного импеданса</h4>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; В
этой схеме задание весовых коэффициентов
ступеней преобразователя осуществляют
посредством последовательного деления опорного
напряжения с помощью резистивной матрицы
постоянного импеданса. Основной элемент такой
матрицы представляет собой делитель напряжения
(рис. 5), который должен удовлетворять следующему условию:
если он нагружен на сопротивление <i>R</i><sub>н</sub>, то его входное
сопротивление <i>R</i><sub>вх</sub> также должно принимать
значение <i>R</i><sub>н</sub>. Коэффициент
ослабления цепи <font face="Symbol" size="4">a</font>=<i>U</i><sub>2</sub>/<i>U</i><sub>1</sub> при этой нагрузке должен иметь
заданное значение. При выполнении этих условий
получаем следующие выражения для сопротивлений:</p>
 
 
<p align="center"><img src="images/components/dac/form85.gif" width=359 height=53 alt="" border="0"></p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form861.gif" width=221 height=45 alt="" border="0"></td>
    <td width="12%"><b>(6)</b></td>
  </tr>
</table>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;При двоичном кодировании <font
face="Symbol" size="4">a </font>=0,5. Если
положить <i>R</i><sub>н</sub>=2<i>R</i>, то<br>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center">R<sub>s</sub>=<i>R</i> и <i>R</i><sub>p</sub>=2<i>R</i></td>
    <td width="12%"><b>(7)</b></td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;в соответствии с
рис.4.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Поскольку в любом положении
переключателей <i>S<sub>k</sub></i> они соединяют нижние выводы
резисторов с общей шиной схемы, источник
опорного напряжения нагружен на постоянное
входное сопротивление <i>R</i><sub>вх</sub>=<i>R</i>. Это гарантирует неизменность
опорного напряжения при любом входном коде ЦАП.</p>
 
<p ALIGN="JUSTIFY">Согласно рис. 4, выходные токи схемы
определяются соотношениями</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form88.gif" width=234 height=49 alt="" border="0"></td>
    <td width="12%" align="center">(8)</td>
  </tr>
</table>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form89.gif" width=230 height=48 alt="" border="0"></td>
    <td width="12%" align="center">(9)</td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">а входной ток</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form810.gif" width=243 height=45 alt="" border="0"></td>
    <td width="12%" align="center">(10)</td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Поскольку
нижние выводы резисторов 2<i>R</i> матрицы при любом состоянии
переключателей <i>S<sub>k</i> </sub> соединены с общей шиной схемы
через низкое сопротивление замкнутых ключей,
напряжения на ключах всегда небольшие, в
пределах нескольких милливольт. Это упрощает
построение ключей и схем управления ими и
позволяет использовать опорное напряжение из
широкого диапазона, в том числе и различной
полярности. Поскольку выходной ток ЦАП зависит
от <i>U</i><sub>оп</sub>
линейно (см. (8)), преобразователи такого типа
можно использовать для умножения аналогового
сигнала (подавая его на вход опорного напряжения)
на цифровой код. Такие ЦАП называют <i>перемножающими</i> (MDAC).</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Точность этой схемы снижает
то обстоятельство, что для ЦАП, имеющих высокую
разрядность, необходимо согласовывать
сопротивления <i>R</i><sub>0</sub> ключей с разрядными токами.
Особенно это важно для ключей старших разрядов.
Например, в 10-разрядном ЦАП AD7520 ключевые МОП-транзисторы
шести старших разрядов сделаны разными по
площади и их сопротивление <i>R</i><sub>0</sub>
нарастает согласно
двоичному коду (20, 40, 80, … , 640 Ом). Таким способом
уравниваются (до 10 мВ) падения напряжения на
ключах первых шести разрядов, что обеспечивает
монотонность и линейность переходной
характеристики ЦАП. 12-разрядный ЦАП 572ПА2 имеет
дифференциальную нелинейность до 0,025% (1 МЗР).</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; ЦАП на МОП ключах имеют
относительно низкое быстродействие из-за
большой входной емкости МОП-ключей. Тот же 572ПА2
имеет время установления выходного тока при
смене входного кода от 000...0 до 111...1, равное 15 мкс.
12-разрядный DAC7611 фирмы Burr-Braun имеет время
установления выходного напряжения 10 мкс. В то же
время ЦАП на МОП-ключах имеют минимальную
мощность потребления. Тот же DAC7611 потребляет
всего 2,5 мВт. В последнее время появились модели
ЦАП рассмотренного выше типа с более высоким
быстродействием. Так 12-разрядный AD7943 имеет время
установления тока 0,6 мкс и потребляемую мощность
всего 25 мкВт. Малое собственное потребление
позволяет запитывать такие микромощные ЦАП
прямо от источника опорного напряжения. При этом
они могут даже не иметь вывода для подключения
ИОН, например, AD5321.</p>
 
<a name="2"></a>
<h3 ALIGN="center">ЦАП на источниках тока</h3>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;ЦАП
на источниках тока обладают более высокой
точностью. В отличие от предыдущего варианта, в
котором весовые токи формируются резисторами
сравнительно небольшого сопротивления и, как
следствие, зависят от сопротивления ключей и
нагрузки, в данном случае весовые токи
обеспечиваются транзисторными источниками тока,
имеющими высокое динамическое сопротивление.
Упрощенная схема ЦАП на источниках тока
приведена на рис. 6.</p>
 
<p ALIGN="center"><img src="images/components/dac/Acim86.gif" width=536 height=291 alt="" border="0">
 
 
<h4 ALIGN="CENTER">Рис. 6. Схема ЦАП на источниках тока</h4>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Весовые токи формируются с
помощью резистивной матрицы. Потенциалы баз
транзисторов одинаковы, а чтобы были равны и
потенциалы эмиттеров всех транзисторов, площади
их эмиттеров делают различными в соответствии с
весовыми коэффициентами. Правый резистор
матрицы подключен не к общей шине, как на схеме
рис. 4, а к двум параллельно включенным одинаковым
транзисторам <i>VT</i><sub>0</sub> и <i>VT</i><sub>н</sub>, в результате чего ток
через <i>VT</i><sub>0 </sub>равен половине тока через <i>VT</i><sub>1</sub>. Входное напряжение для
резистивной матрицы создается с помощью
опорного транзистора <i> VT</i><sub>оп</sub> и операционного
усилителя ОУ1, выходное напряжение которого
устанавливается таким, что коллекторный ток
транзистора <i>VT</i><sub>оп</sub> принимает значение <i>I</i><sub>оп</sub>. Выходной ток для <i>N</i>-разрядного ЦАП.</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form811.gif" width=103 height=46 alt="" border="0"></td>
    <td width="12%" align="center">(11)</td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;
Характернымипримереми ЦАП на переключателях
тока с биполярными транзисторами в качестве
ключей являются 12-разрядный 594ПА1 с временем
установления 3,5 мкс и погрешностью линейности не
более 0,012% и 12-разрядный AD565, имеющий время
установления 0,2 мкс при такой же погрешности
линейности. Еще более высоким быстродействием
обладает AD668, имеющий время установления 90 нс и ту
же погрешность линейности. Из новых разработок
можно отметить 14-разрядный AD9764 со временем
установления 35 нс и погрешностью линейности не
более 0,01%.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; В
качестве переключателей тока <i>S<sub>k</i> </sub>часто используются биполярные <i>дифференциальные
каскады</i>, в которых транзисторы работают в
активном режиме. Это позволяет сократить время
установления до единиц наносекунд. Схема
переключателя тока на дифференциальных
усилителях приведена на рис. 7.</p>
 
<p ALIGN="center"><img src="images/components/dac/Acim87a.gif" width=545 height=394 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Дифференциальные каскады VT<sub>1</sub>–VT<sub>3</sub> и VT' <sub>1</sub>–VT' <sub>3</sub> образованы из стандартных ЭСЛ
вентилей. Ток <i>I<sub>k</sub></i>, протекающий через вывод
коллектора выходного эмиттерного повторителя
является выходным током ячейки. Если на цифровой
вход <i>D<sub>k</i> </sub>подается напряжение
высокого уровня, то транзистор VT<sub>3</sub>
открывается, а транзистор VT' <sub>3</sub>
закрывается. Выходной ток определяется
выражением</p>
 
 
<p ALIGN="center"><img src="images/components/dac/form811a.gif" width=133 height=54 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Точность значительно
повышается, если резистор <i>R</i><sub>э</sub> заменить источником
постоянного тока, как в схеме на рис. 6. Благодаря
симметрии схемы существует возможность
формирования двух выходных токов – прямого и
инверсного. Наиболее быстродействующие модели
подобных ЦАП имеют входные ЭСЛ-уровни. Примером
может служить 12-ти разрядный МАХ555, имеющий время
установления 4 нс до уровня 0,1%. Поскольку
выходные сигналы таких ЦАП захватывают
радиочастотный диапазон, они имеют выходное
сопротивление 50 или 75 ом, которое должно быть
согласовано с волновым сопротивлением кабеля,
подключаемого к выходу преобразователя.</p>
 
 
<a name="#3"></a>
<h3 ALIGN="center">Формирование выходного сигнала в виде напряжения</h3>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;
Существует несколько способов формирования
выходного напряжения для ЦАП с суммированием
весовых токов. Два из них показаны на рис. 8.</p>
 
<p ALIGN="center"><img src="images/components/dac/Acim87.gif" width=530 height=225 alt="" border="0">
 
<h4 ALIGN="center">Рис. 8. Формирование напряжения по
токовому выходу ЦАП</h4>
 
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;На рис. 8а приведена схема с
преобразователем тока в напряжение на
операционном усилителе (ОУ). Эта схема пригодна
для всех ЦАП с токовым выходом. Поскольку
пленочные резисторы, определяющие весовые токи
ЦАП имеют значительный температурный
коэффициент сопротивления, резистор обратной
связи <i>R</i><sub>ос</sub>
следует изготавливать на кристалле ЦАП и в том же
технологическом процессе, что обычно и делается.
Это позволяет снизить температурную
нестабильность преобразователя в 300…400 раз.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Для ЦАП на МОП-ключах с учетом (8)
выходное напряжение схемы на рис. 8а.</p>
 
 
<p ALIGN="center"><img src="images/components/dac/form811b.gif" width=265 height=47 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Обычно сопротивление резистора
обратной связи <i>R</i><sub>ос</sub>=<i>R</i>. В таком случае</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form812.gif" width=143 height=45 alt="" border="0"></td>
    <td width="12%" align="center">(12)</td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;
Большинство моделей ЦАП имеет значительную
выходную емкость. Например, у AD7520 с МОП-ключами в зависимости
от входного кода <i>С</i><sub>вых </sub>составляет
величину 30…120 пФ, у AD565А с источниками тока <i>С</i><sub>вых</sub>=25
пФ. Эта емкость совместно с выходным
сопротивлением ЦАП и резистором <i>R</i><sub>ос</sub> создает
дополнительный полюс частотной характеристики
петли обратной связи ОУ, который может вызвать
неустойчивость в виде самовозбуждения. Особенно
это опасно для ЦАП с МОП-ключами при нулевом
входном коде. При <i>R</i><sub>ос</sub>=10 кОм частота второго
полюса составит около 100 кГц при 100%-ной глубине
обратной связи. В таком случае усилитель, частота
единичного усиления которого <i>f</i><sub>т</sub> превышает 500 кГц, будет
иметь явно недостаточные запасы устойчивости.
Для сохранения устойчивости можно включить
параллельно резистору <i>R</i><sub>ос</sub> конденсатор <i>С</i><sub>к</sub>,
емкость которого в первом приближении можно
взять равной <i>С</i><sub>вых</sub>. Для более точного
выбора <i>С</i><sub>к</sub> необходимо провести полный
анализ устойчивости схемы с учетом свойств
конкретного ОУ. Эти мероприятия настолько
серьезно ухудшают быстродействие схемы, что
возникает парадоксальная ситуация: для
поддержания высокого быстродействия даже
недорогого ЦАП может потребоваться относительно
дорогой быстродействующий (с малым временем
установления) ОУ.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Ранние модели ЦАП с МОП
ключами (AD7520,
572ПА1 и др.) допускают отрицательное напряжение на
ключах не свыше 0,7 В, поэтому для защиты ключей
между выходами ЦАП следует включать диод Шоттки,
как это показано на рис. 8а.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Для цифро-аналогового
преобразователя на источниках тока
преобразование выходного тока в напряжение
может быть произведено с помощью резистора
(рис.8б). В этой схеме невозможно самовозбуждение
и сохранено быстродействие, однако амплитуда
выходного напряжения должна быть небольшой
(например, для AD565А в биполярном режиме в пределах
&plusmn; 1 В). В противном случае
транзисторы источников тока могут выйти из
линейного режима. Такой режим обеспечивается при
низких значениях сопротивления нагрузки: <i>R</i><sub>н </sub><font
FACE="Symbol">»</font>1 кОм. Для увеличения амплитуды
выходного сигнала ЦАП в этой схеме к ее выходу
можно подключить неинвертирующий усилитель на
ОУ.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Для ЦАП с МОП-ключами, чтобы
получить выходной сигнал в виде напряжения,
можно использовать инверсное включение
резистивной матрицы (рис. 9).</p>
 
<p ALIGN="center"><img src="images/components/dac/Acim88.gif" width=500 height=230 alt="" border="0">
 
<h4 ALIGN="center">Рис. 9. Инверсное включение ЦАП с МОП-ключами</h4>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Для
расчета выходного напряжения найдем связь между
напряжением <i>U<sub>i</sub></i> на ключе <i> S<sub>i</sub></i> и узловым напряжением <i>U</i>'<i><sub>i
</sub></i>. Воспользуемся
принципом суперпозиции. Будем считать равными
нулю все напряжения на ключах, кроме
рассматриваемого напряжения <i>U<sub>i</sub></i>. При <i> R</i><sub>н</sub>=2<i>R</i> к каждому узлу подключены
справа и слева нагрузки сопротивлением 2<i>R</i>.
Воспользовавшись методом двух узлов, получим</p>
 
 
<p ALIGN="center"><img src="images/components/dac/form812a.gif" width=191 height=90 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Выходное напряжение ЦАП найдем как общее напряжение
на крайнем правом узле, вызванное суммарным
действием всех <i>U<sub>i</sub></i>. При этом напряжения узлов
суммируются с весами, соответствующими
коэффициентам деления резистивной матрицы <i>R-</i>2<i>R</i>. Получим</p>
 
<p ALIGN="center"><img src="images/components/dac/form812b.gif" width=252 height=49 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Для определения
выходного напряжения при произвольной нагрузке
воспользуемся теоремой об эквивалентном
генераторе. Из эквивалентной схемы ЦАП на рис. 10
видно, что</p>
 
<p ALIGN="center"><img src="images/components/dac/Acim88a.gif" width=185 height=147 alt="" border="0">
 
<h4 ALIGN="center">Рис. 10</h4>
 
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form813.gif" width=132 height=53 alt="" border="0"></td>
    <td width="12%" align="center">(13)</td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Откуда э.д.с. эквивалентного
генератора </p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form814.gif" width=145 height=55 alt="" border="0"></td>
    <td width="12%" align="center">(14)</td>
  </tr>
</table>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Эквивалентное
сопротивление генератора <i>R</i><sub>э</sub> совпадает со входным
сопротивлением матрицы <i>R-</i>2<i>R</i>, т.е. <i>R</i><sub>э</sub>=<i>R</i>. При <i>R</i><sub>н</sub>=2<i>R</i> из (14) получим</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form815.gif" width=93 height=45 alt="" border="0"></td>
    <td width="12%" align="center">(15) </td>
  </tr>
</table>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Подставив (15) в (13), для произвольной
нагрузки получим</p>
 
 
<p ALIGN="center"><img src="images/components/dac/form815a.gif" width=173 height=49 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;В частности, при <i>R</i><sub>н</sub>=<font FACE="Symbol">Ґ</font></p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form816.gif" width=112 height=46 alt="" border="0"></td>
    <td width="12%" align="center">(16)</td>
  </tr>
</table>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Недостатками этой схемы
являются: большое падение напряжения на ключах,
изменяющаяся нагрузка источника опорного
напряжения и значительное выходное
сопротивление. Вследствие первого недостатка по
этой схеме нельзя включать ЦАП типа 572ПА1 или
572ПА2, но можно 572ПА6 и 572ПА7. Из-за второго
недостатка источник опорного напряжения должен
обладать низким выходным сопротивлением, в
противном случае возможна немонотонность
характеристики преобразования. Тем не менее,
инверсное включение резистивной матрицы
довольно широко применяется в ИМС ЦАП с выходом в
виде напряжения, например, в 12-ти разрядном МАХ531,
включающем также встроенный ОУ в
неинвертирующем включении в качестве буфера, или
в 16-ти разрядном МАХ542 без встроенного буфера.
12-ти разрядный ЦАП AD7390 построен на инверсной
матрице с буферным усилителем на кристалле и
потребляет всего 0,3 мВт мощности. Правда его время установления
достигает 70 мкс.</p>
 
<a name="4"></a>
<h3 ALIGN="center">Параллельный ЦАП на переключаемых конденсаторах</h3>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Основой ЦАП этого типа
является матрица конденсаторов, емкости которых
соотносятся как целые степени двух. Схема
простого варианта такого преобразователя
приведена на рис. 11. Емкость <i>k</i>-го конденсатора матрицы определяется
соотношением</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><i>С<sub>k</sub></i>=2<i><sup>k</sup>C</i><sub>0.</sub></td>
    <td width="12%" align="center">(17)</td>
  </tr>
</table>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Цикл преобразования состоит
из двух фаз. В первой фазе ключи <i>S</i><sub>0</sub>…<i>S<sub>N</i>–1</sub> находятся в левой позиции. Ключ
сброса <i>S</i><sub>сб</sub>
замкнут. При этом все конденсаторы разряжены. Во
второй фазе ключ сброса <i>S</i><sub>сб</sub> размыкается. Если <i>k</i>-й бит входного <i>N</i>-разрядного
слова <i>d<sub>k</sub></i>=1, то соответствующий ключ <i>S</i><sub>k</sub> переключается в правую
позицию, подключая нижнюю обкладку конденсатора
к источнику опорного напряжения, или остается в
левой позиции, если <i>d<sub>k</sub></i>=0. Суммарный заряд
конденсаторов матрицы с учетом (17) составит </p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form818.gif" width=306 height=49 alt="" border="0"></td>
    <td width="12%" align="center">(18)</td>
  </tr>
</table>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Равный заряд получает и
конденсатор <i>С</i> в обратной связи ОУ. При этом
выходное напряжение ОУ составит</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><i>U</i><sub>вых</sub>=–<i>q</i>/<i>C.</i></td>
    <td width="12%" align="center">(19)</td>
  </tr>
</table>
 
<p ALIGN="center"><img src="images/components/dac/acf811.gif" width=577 height=236 border=0 alt="">
 
<h4 ALIGN="center">Рис. 8.11. Параллельный ЦАП на
коммутируемых конденсаторах</h4>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp;Подставив (18) в (19), найдем окончательно</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form820.gif" width=152 height=48 alt="" border="0"></td>
    <td width="12%" align="center">(20)</td>
  </tr>
</table>
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Для хранения результата
преобразования (постоянного напряжения) в
течении сколь-нибудь продолжительного времени к
выходу ЦАП этого типа следует подключить
устройство выборки-хранения. Хранить выходное
напряжение неограниченное время, как это могут
делать ЦАП с суммированием весовых токов, снабженные
регистром-защелкой, преобразователи на
коммутируемых конденсаторах не могут из-за
утечки заряда. Поэтому они применяются, в
основном, в составе аналого-цифровых
преобразователей. Другим недостатком является
большая площадь кристалла ИМС, занимаемая
подобной схемой.</p>
 
 
<a name="5"></a>
<h3 ALIGN="center">ЦАП с суммированием напряжений</h3>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Схема восьмиразрядного
преобразователя с суммированием напряжений,
изготавливаемого в виде ИМС, приведена на рис. 8.12.
Основу преобразователя составляет цепь из 256
резисторов равного сопротивления, соединенных
последовательно. Вывод <i>W</i> через ключи <i>S</i><sub>0</sub>…<i>S</i><sub>255</sub> может подключаться к любой
точке этой цепи в зависимости от входного числа.
Входной двоичный код <i>D</i> преобразуется дешифратором 8х256 в
унитарный позиционный код, непосредственно
управляющий ключами. Если приложить напряжение <i>U</i><sub>AB</sub> между
выводами <i>А</i> и <i>В</i>, то напряжение между
выводами <i>W </i> и <i>B</i> составит</p>
 
<ph4 ALIGN="center"><i>U</i><sub>WB</sub>=<i>U</i><sub>AB</sub><i>D.</i></h4>
 
<p ALIGN="center"><img src="images/components/dac/Acim811a.gif" width=405 height=479 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Достоинством данной схемы
является&nbsp; малая дифференциальная
нелинейность и гарантированная монотонность &nbsp;
характеристики преобразования. Ее можно
использовать в качестве резистора,
подстраиваемого цифровым кодом. Выпускается
несколько моделей таких ЦАП. Например,
микросхема AD8403
содержит четыре восьмиразрядных ЦАП,
выполненных по схеме на рис. 8.12, с сопротивлением
между выводами <i>А</i> и <i>В</i> 10, 50 либо 100 кОм в
зависимости от модификации. При подаче активного
уровня на вход “Экономичный режим” происходит
размыкание ключа <i> S</i><sub>откл</sub> и замыкание ключа <i>S</i><sub>0</sub>. ИМС
имеет вход сброса, которым ЦАП можно установить
на середину шкалы. Фирма Dallas Semiconductor выпускает несколько моделей
ЦАП (например, сдвоенный DS1867) с суммированием напряжений, у
которых входной регистр представляет собой
энергонезависимое оперативное запоминающее
устройство, что особенно удобно для построения
схем с автоматической подстройкой (калибровкой).
Недостаток схемы – необходимость изготавливать
на кристалле большое количество (2<sup>N</sup>)
согласованных резисторов. Тем не менее, в настоящее время
выпускаются 8-ми, 10-ти и 12-ти разрядные ЦАП данного
типа с буферными усилителями на выходе, например,
AD5301, AD5311 и AD5321.</p>
 
