 
<h2 align="center"><font color="#000080">Последовательные ЦАП</font></h2>
<a name="1">
<h3 align="center">ЦАП с широтно-импульсной модуляцией</h3></a>
 
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; Очень часто ЦАП входит в
состав микропроцессорных систем. В этом случае,
если не требуется высокое быстродействие,
цифро-аналоговое преобразование может быть
очень просто осуществлено с помощью
широтно-импульсной модуляции (ШИМ). Схема ЦАП с
ШИМ приведена на рис. 1а.</p>
 
<p ALIGN="center"><img src="images/components/dac/Acim81.gif" width=484 height=144 alt="ЦАП с широтно-импульсной модуляцией" border="0">
 
<h4 ALIGN="CENTER">Рис. 1. ЦАП с широтно-импульсной модуляцией</h4>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; Наиболее просто
организуется цифро-аналоговое преобразование в
том случае, если микроконтроллер имеет
встроенную функцию широтно-импульсного
преобразования (например, AT90S8515 фирмы Atmel или 87С51GB фирмы Intel). Выход ШИМ управляет ключом S. В зависимости
от заданной разрядности преобразования (для
контроллера AT90S8515 возможны режимы 8, 9 и 10 бит) контроллер с
помощью своего таймера/счетчика формирует
последовательность импульсов, относительная
длительность которых <font SIZE="4" face="Symbol">g</font><font SIZE="4"> </font><font SIZE="4">=<i>t</i></font><font SIZE="4"><sub>и</sub></font><font SIZE="4">/</font>
 <font SIZE="4"><i>Т</i></font> определяется
соотношением</p>
 
<p align="center"><img src="images/components/dac/form1.gif" width=70 height=58 alt="" border="0">
    
<p ALIGN="justify">&nbsp;&nbsp;&nbsp;&nbsp;где N – разрядность преобразования,
а D – преобразуемый
код. Фильтр нижних частот сглаживает импульсы,
выделяя среднее значение напряжения. В
результате выходное напряжение преобразователя</p>
 
<p align="center"><img src="images/components/dac/form2.gif" width=184 height=59 alt="" border="0">
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; Рассмотренная схема
обеспечивает почти идеальную линейность
преобразования, не содержит прецизионных
элементов (за исключением источника опорного
напряжения). Основной ее недостаток – низкое
быстродействие.</p>
 
 
<a name="2">
<h3 ALIGN="center">Последовательный ЦАП на переключаемых конденсаторах</h3></a>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; Рассмотренная выше схема
ЦАП с ШИМ вначале преобразует цифровой код во
временной интервал, который формируется с
помощью двоичного счетчика квант за квантом,
поэтому для получения N-разрядного преобразования
необходимы 2<sup>N</sup> временных квантов (тактов).
Схема последовательного ЦАП, приведенная на рис.
2, позволяет выполнить цифро-аналоговое
преобразование за значительно меньшее число
тактов.</p>
 
<p ALIGN="center"><img src="images/components/dac/Acim82.gif" width=318 height=173 alt="" border="0">
 
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; В
этой схеме емкости конденсаторов <i>С</i><sub>1</sub> и <i>С</i><sub>2</sub> равны. Перед началом цикла
преобразования конденсатор <i>С</i><sub>2</sub> разряжается ключом <i>S</i><sub>4</sub>. Входное двоичное слово
задается в виде последовательного кода. Его
преобразование осуществляется последовательно,
начиная с младшего разряда <i>d</i><sub>0</sub>. Каждый такт преобразования
состоит из двух полутактов. В первом полутакте
конденсатор <i>С</i><sub>1</sub>
заряжается до опорного напряжения <i>U</i><sub>оп</sub> при <i>d</i><sub>0</sub>=1
посредством замыкания ключа <i>S</i><sub>1</sub> или разряжается до нуля при <i>d</i><sub>0</sub>=0 путем замыкания ключа <i>S</i><sub>2</sub>. Во втором полутакте при
разомкнутых ключах <i>S</i><sub>1</sub>,<i> S</i><sub>2</sub> и </font><i>S</i><sub>4</sub> замыкается ключ <i>S</i><sub>3</sub>, что вызывает деление заряда
пополам между <i>С</i><sub>1</sub> и <i>С</i><sub>2</sub>. В
результате получаем</p>
 
<table align="center" cellspacing="2" cellpadding="2" border="0">
<tr>
    <td><h4 align="center"><i>U</i><sub>1</sub>(0)=<i>U</i><sub>вых</sub>(0)=(<i>d</i><sub>0</sub>/2)<i>U</i><sub>оп</sub></td>
    <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>(3)</b></td>
</tr>
</table>
 
 
     
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp;&nbsp; Пока
на конденсаторе <i>С</i><sub>2</sub> сохраняется заряд, процедура
заряда конденсатора <i>С</i><sub>1</sub> должна быть повторена для
следующего разряда <i>d</i><sub>1</sub> входного слова. После нового
цикла перезарядки напряжение на конденсаторах
будет</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%"><p align="center"><img src="images/components/dac/form84.gif" width=364 height=46 alt="" border="0"></td>
    <td width="12%">(4) </td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; Точно
также выполняется преобразование для остальных
разрядов слова. В результате для <i>N</i>-разрядного ЦАП выходное
напряжение будет равно</p>
 
<table border="0" width="100%">
  <tr>
    <td width="88%" align="center"><img src="images/components/dac/form85.gif" width=359 height=53 alt="" border="0"></td>
    <td width="12%">(5)</td>
  </tr>
</table>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; Если
требуется сохранять результат преобразования
сколь-нибудь продолжительное время, к выходу
схемы следует подключить УВХ. После окончания
цикла преобразования следует провести цикл
выборки, перевести УВХ в режим хранения и вновь
начать преобразование.</p>
 
<p ALIGN="JUSTIFY">&nbsp;&nbsp;&nbsp; Таким образом,
представленная схема выполняет преобразование
входного кода за 2<i>N</i> квантов, что значительно
меньше, чем у ЦАП с ШИМ. Здесь требуется только
два согласованных конденсатора небольшой
емкости. Конфигурация аналоговой части схемы не
зависит от разрядности преобразуемого кода.
Однако по быстродействию последовательный ЦАП
значительно уступает параллельным
цифро-аналоговым преобразователям, что
ограничивает область его применения.</p>
