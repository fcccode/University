 
<h2 align="center"><font color="#000080">Сигма-дельта АЦП </font></h2>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;АЦП многотактного интегрирования имеют ряд недостатков. Во-первых, нелинейность переходной статической характеристики операционного усилителя, на котором выполняют интегратор, заметным образом сказывается на интегральной нелинейности характеристики преобразования АЦП высокого разрешения. Для уменьшения влияния этого фактора АЦП изготавливают многотактными. Например, 13-разрядный AD7550 выполняет преобразование в четыре такта. Другим недостатком этих АЦП является то обстоятельство, что интегрирование входного сигнала занимает в цикле преобразования только приблизительно третью часть. Две трети цикла преобразователь не принимает входной сигнал. Это ухудшает помехоподавляющие свойства интегрирующего АЦП. В-третьих, АЦП многотактного интегрирования должен быть снабжен довольно большим количеством внешних резисторов и конденсаторов с высококачественным диэлектриком, что значительно увеличивает место, занимаемое преобразователем на плате и, как следствие, усиливает влияние помех.<br>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Эти недостатки во многом устранены в конструкции сигма-дельта АЦП (в ранней литературе эти преобразователи назывались АЦП с уравновешиванием или балансом зарядов). Своим названием эти преобразователи обязаны наличием в них двух блоков: сумматора (обозначение операции -  <font face="Symbol">S</font>) и интегратора (обозначение операции - <font face="Symbol">D</font> ). Один из принципов, заложенных в такого рода преобразователях, позволяющий уменьшить погрешность, вносимую шумами, а следовательно увеличить разрешающую способность - это усреднение результатов измерения на большом интервале времени.<br> 
 
<p align="center"><img src="images/components/adc/acim914.gif" width=324 height=264 alt="Структурная схема сигма-дельта модулятора" border="0">
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Основные узлы АЦП - это сигма-дельта модулятор и цифровой фильтр. Схема n-разрядного сигма-дельта модулятора первого порядка приведена на рис. 14. Работа этой схемы основана на вычитании из входного сигнала U<sub>вх</sub>(t) величины сигнала на выходе ЦАП, полученной на предыдущем такте работы схемы. Полученная разность интегрируется, а затем преобразуется в код параллельным АЦП невысокой разрядности. Последовательность кодов поступает на цифровой фильтр нижних частот.<br>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Порядок модулятора определяется численностью интеграторов и сумматоров в его схеме. Сигма-дельта модуляторы N-го порядка содержат N сумматоров и N интеграторов и обеспечивают большее соотношение сигнал/шум при той же частоте отсчетов, чем модуляторы первого порядка. Примерами сигма-дельта модуляторов высокого порядка являются одноканальный AD7720 седьмого порядка и двухканальный ADMOD79 пятого порядка.<br>
 
<p align="center"><img src="images/components/adc/acim915.gif" width=432 height=199 alt="Структурная схема сигма-дельта АЦП" border="0">
 
 
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Наиболее широко в составе ИМС используются однобитные сигма-дельта модуляторы, в которых в качестве АЦП используется компаратор, а в качестве ЦАП - аналоговый комутатор (рис. 15). Принцип действия пояснен в табл. 2 на примере преобразования входного сигнала, равного 0,6 В, при U<sub>оп</sub>=1 В. Пусть постоянная времени интегрирования интегратора численно равна периоду тактовых импульсов. В нулевом периоде выходное напряжение интегратора сбрасывается в нуль. На выходе ЦАП также устанавливается нулевое напряжение. Затем схема проходит через показанную в табл. 9 последовательность состояний.<br>
 
<h4 align="left">Таблица 2</h4>
 
<table align="center" cellspacing="0" cellpadding="2" border="1">
<tr align="center">
    <td colspan="5">U<sub>вх</sub>=0,6 В</td>
    <td colspan="5">U<sub>вх</sub>=0 В</td>
</tr>
<tr align="center">
    <td>N такта</td>
    <td>U<sub><font face="Symbol">S</font></sub>, В</td>
    <td>U<sub>и</sub>, В</td>
    <td>U<sub>к</sub>, бит</td>
    <td>U<sub>ЦАП</sub>, В</td>
    <td>N такта</td>
    <td>U<sub><font face="Symbol">S</font></sub>, В</td>
    <td>U<sub>и</sub>, В</td>
    <td>U<sub>к</sub>, бит</td>
    <td>U<sub>ЦАП</sub>, В</td>
</tr>
<tr align="center">
    <td>1</td>
    <td>0,6</td>
    <td>0,6</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>2</td>
    <td>-0,4</td>
    <td>0,2</td>
    <td>1</td>
    <td>1</td>
    <td>2</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
<tr align="center">
    <td>3</td>
    <td>-0,4</td>
    <td>-0,2</td>
    <td>0</td>
    <td>-1</td>
    <td>3</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>4</td>
    <td>1,6</td>
    <td>1,4</td>
    <td>1</td>
    <td>1</td>
    <td>4</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
<tr align="center">
    <td>5</td>
    <td>-0,4</td>
    <td>1,0</td>
    <td>1</td>
    <td>1</td>
    <td>5</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>6</td>
    <td>-0,4</td>
    <td>0,6</td>
    <td>1</td>
    <td>1</td>
    <td>6</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
<tr align="center">
    <td>7</td>
    <td>-0,4</td>
    <td>0,2</td>
    <td>1</td>
    <td>1</td>
    <td>7</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>8</td>
    <td>-0,4</td>
    <td>-0,2</td>
    <td>0</td>
    <td>-1</td>
    <td>8</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
<tr align="center">
    <td>9</td>
    <td>1,6</td>
    <td>1,4</td>
    <td>1</td>
    <td>1</td>
    <td>9</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>10</td>
    <td>-0,4</td>
    <td>1,0</td>
    <td>1</td>
    <td>1</td>
    <td>10</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
<tr align="center">
    <td>11</td>
    <td>-0,4</td>
    <td>0,6</td>
    <td>1</td>
    <td>1</td>
    <td>11</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>12   <td>-0,4</td>
    <td>0,2</td>
    <td>1</td>
    <td>1</td>
    <td>12</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
<tr align="center">
    <td>13</td>
    <td>-0,4</td>
    <td>-0,2</td>
    <td>0</td>
    <td>-1</td>
    <td>13</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>14</td>
    <td>1,6</td>
    <td>1,4</td>
    <td>1</td>
    <td>1</td>
    <td>14</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
<tr align="center">
    <td>15</td>
    <td>-0,4</td>
    <td>1,0</td>
    <td>1</td>
    <td>1</td>
    <td>15</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
</tr>
<tr align="center">
    <td>16</td>
    <td>-0,4</td>
    <td>0,6</td>
    <td>1</td>
    <td>1</td>
    <td>16</td>
    <td>-1</td>
    <td>0</td>
    <td>0</td>
    <td>-1</td>
</tr>
</table>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;В тактовые периоды 2 и 7 состояния системы идентичны, так как при неизменном входном сигнале U<sub>вх</sub>=0,6 В цикл работы занимает пять тактовых периодов. Усреднение выходного сигнала ЦАП за цикл действительно дает величину напряжения 0,6 В:<br>
 
<h3 align="center">(1-1+1+1+1)/5=0,6.</h3>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Для формирования выходного кода такого преобразователя необходимо каким-либо образом преобразовать последовательность бит на выходе компаратора в виде унитарного кода в последовательный или параллельный двоичный позиционный код. В простейшем случае это можно сделать с помощью двоичного счетчика. Возьмем в нашем примере 4-разрядный счетчик. Подсчет бит на выходе компаратора за 16-ти тактный цикл дает число 13. Несложно увидеть, что при U<sub>вх</sub>=1 В на выходе компаратора всегда будет единица, что дает за цикл число 16, т.е. переполнение счетчика. Напротив, при U<sub>вх</sub>=-1 В на выходе компаратора всегда будет нуль, что дает равное нулю содержимое счетчика в конце цикла. В случае, если U<sub>вх</sub>=0 то, как это видно из табл. 2, результат счета за цикл составит 8<sub>10</sub> или 1000<sub>2</sub>. Это значит, что выходное число АЦП представляется в смещенном коде. В рассмотренном примере верхняя граница полной шкалы составит 1111<sub>2</sub> или +7<sub>10</sub>, а нижняя - 0000<sub>2</sub> или -8<sub>10</sub>. При U<sub>вх</sub>=0,6 В, как это видно из левой половины табл. 2, содержимое счетчика составит 1310 в смещенном коде, что соответствует +5. Учитывая, что +8 соответствует U<sub>вх</sub>=1 В, найдем <br>
 
<h3 align="center">5*1/8=0,625 &gt; 0,6 В.</h3>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;При использовании двоичного счетчика в качестве преобразователя потока битов, поступающих с выхода компаратора, необходимо выделять фиксированный цикл преобразования, длительность которого равна произведению K<sub>сч</sub> f<sub>такт</sub>. После его окончания должно производиться считывание результата, например, с помощью регистра-защелки и обнуление счетчика. В этом случае с точки зрения помехоподавляющих свойств сигма-дельта АЦП близки к АЦП многотактного интегрирования. Более эффективно с этой точки зрения применение в сигма-дельта АЦП цифровых фильтров с конечной длительностью переходных процессов.<br>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;В сигма-дельта АЦП обычно применяются цифровые фильтры с амплитудно-частотной характеристикой (АЧХ) вида (sinx/x)<sup>3</sup>. Передаточная функция такого фильтра в z-области определяется выражением<br>
 
<p align="center"><img src="images/components/adc/form912a.gif" width=175 height=66 alt="" border="0">
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;где М - целое число, которое задается программно и равно отношению тактовой частоты модулятора к частоте отсчетов фильтра. (Частота отсчетов - это частота, с которой обновляются данные).Например, для АЦП AD7714 это число может принимать значения от 19 до 4000. В частотной области модуль передаточной функции фильтра<br><br>
 
<table align="center" width="60%" cellspacing="2" cellpadding="2" border="0">
<tr>
    <td align="center"><img src="images/components/adc/form913.gif" width=243 height=67 alt="" border="0"></td>
    <td align="right">(13)</td>
</tr>
</table>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;На рис. 16 приведен график амплитудно-частотной характеристики цифрового фильтра, построенной согласно выражению (13) при f<sub>такт</sub>=38,4 кГц и М=192, что дает значение частоты отсчетов, совпадающей с первой частотой режекции фильтра АЦП, f<sub>отсч</sub>=50 Гц. Сравнение этой АЧХ с АЧХ коэффициента подавления помех АЦП с двухкратным интегрированием (см. рис. 12) показывает значительно лучшие помехоподавляющие свойства сигма-дельта АЦП.<br>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;В то же время применение цифрового фильтра нижних частот в составе сигма-дельта АЦП вместо счетчика вызывает переходные процессы при изменении входного напряжения. Время установления цифровых фильтров с конечной длительностью переходных процессов, как следует из их названия, конечно и составляет для фильтра вида (sinx/x)<sup>3</sup> четыре периода частоты отсчетов, а при начальном обнулении фильтра - три периода. Это снижает быстродействие систем сбора данных на основе сигма-дельта АЦП. Поэтому выпускаются ИМС AD7730 и AD7731, оснащенные сложным цифровым фильтром, обеспечивающие переключение каналов со временем установления 1 мс при сохранении эффективной разрядности не ниже 13 бит (так называемый Fast-Step режим). Обычно цифровой фильтр изготавливается на том же кристалле, что и модулятор, но иногда они выпускаются в виде двух отдельных ИМС (например, AD1555 - модулятор четвертого порядка и AD1556 - цифровой фильтр).<br> 
 
<p align="center"><img src="images/components/adc/acim916.gif" width=308 height=314 alt="АЧХ цифрового фильтра сигма-дельта АЦП" border="0">
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Сравнение сигма-дельта АЦП с АЦП многотактного интегрирования показывает значительные преимущества первых. Прежде всего, линейность характеристики преобразования сигма-дельта АЦП выше, чем у АЦП многотактного интегрирования равной стоимости. Это объясняется тем, что интегратор сигма-дельта АЦП работает в значительно более узком динамическом диапазоне, и нелинейность переходной характеристики усилителя, на котором построен интегратор, сказывается значительно меньше. Емкость конденсатора интегратора у сигма-дельта АЦП значительно меньше (десятки пикофарад), так что этот конденсатор может быть изготовлен прямо на кристалле ИМС. Как следствие, сигма-дельта АЦП практически не имеет внешних элементов, что существенно сокращает площадь, занимаемую им на плате, и снижает уровень шумов. В результате, например, 24-разрядный сигма-дельта АЦП AD7714 изготавливается в виде однокристалльной ИМС в 24-выводном корпусе, потребляет 3 мВт мощности и стоит примерно 14 долларов США, а 18-разрядный АЦП восьмитактного интегрирования HI-7159 потребляет 75 мВт и стоит около 30 долларов. К тому же сигма-дельта АЦП начинает давать правильный результат через 3-4 отсчета после скачкообразного изменения входного сигнала, что при величине первой частоты режекции, равной 50 Гц, и 20-разрядном разрешении составляет 60-80 мс, а минимальное время преобразования АЦП HI-7159 для 18-разрядного разрешения и той же частоты режекции составляет 140 мс. В настоящее время ряд ведущих по аналого-цифровым ИМС фирм, такие как Analog Devices и Burr-Brown, прекратили производство АЦП многотактного интегрирования, полностью перейдя в области АЦ-преобразования высокого разрешения на сигма-дельта АЦП.<br>
 
<p align="justify">&nbsp;&nbsp;&nbsp;&nbsp;Сигма-дельта АЦП высокого разрешения имеют развитую цифровую часть, включающую микроконтроллер. Это позволяет реализовать режимы автоматической установки нуля и самокалибровки полной шкалы, хранить калибровочные коэффициенты и передавать их по запросу внешнего процессора.<br>
 
 
 