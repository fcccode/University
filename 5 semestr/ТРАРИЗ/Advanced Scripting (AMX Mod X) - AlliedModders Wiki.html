<!DOCTYPE html>
<!-- saved from url=(0058)https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X) -->
<html lang="en" dir="ltr" class="client-js translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/load.php"></script>

<title>Advanced Scripting (AMX Mod X) - AlliedModders Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">
<meta name="generator" content="MediaWiki 1.23.0">
<link rel="shortcut icon" href="https://wiki.alliedmods.net/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.alliedmods.net/opensearch_desc.php" title="AlliedModders Wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.alliedmods.net/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="AlliedModders Wiki Atom feed" href="https://wiki.alliedmods.net/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/load(1).php">
<style>
.mw-collapsible-toggle{float:right;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none} caption .mw-collapsible-toggle{float:none} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: amwiki-cw_:resourceloader:filter:minify-css:7:6c1d24e90626cec584f0869483f983e7 */
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html > body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.highlight{font-weight:bold}
/* cache key: amwiki-cw_:resourceloader:filter:minify-css:7:9f9511aa4ef920d34591113e825e6a1e */
.postedit-container{margin:0 auto;position:fixed;top:0;height:0;left:50%;z-index:1000;font-size:13px}.postedit-container:hover{cursor:pointer}.postedit{position:relative;top:0.6em;left:-50%;padding:.6em 3.6em .6em 1.1em;line-height:1.5625em;color:#626465;background-color:#f4f4f4;border:1px solid #dcd9d9;text-shadow:0 0.0625em 0 rgba(255,255,255,0.5);border-radius:5px;-webkit-box-shadow:0 2px 5px 0 #ccc;box-shadow:0 2px 5px 0 #ccc;-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.skin-monobook .postedit{top:6em !important}.postedit-faded{opacity:0}.postedit-icon{padding-left:41px;  line-height:25px;background-repeat:no-repeat;background-position:8px 50%}.postedit-icon-checkmark{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABblBMVEUAAAD///////9PfTf///80aRdTgjn///9Feij///////////9Rfzf///////////9PfjZRgDh1o1xOfTb///////+bwYqLtnj///////9PfTa82K////9WhT6YxIL///9QgDdTgzr////////j7uDl7eLq8efi693k7OH///////9UhjuBr2rp9uRUhjr///9YljVKgir///9WiTlYjT3////9/v57vFlbkT5PjC9dlD/5/fhuq09stUTs9uhxuElctCpfnT1huDFloEZloUZmpENmvDZpvDxpvTxqvjxrvT5rvT9rwTxsqktswD5uwkBvuUdxw0NztFBztU9ztVBzwkp0tlJ1xkd2t1R3uVR4w1F4xk54x014yE15uVZ5v1R5xVB6v1R7yFJ8wVh9xVl9yFR9yVd9ylN+xVh+yFd/x1l/yFeAylmEx1+Ny2uY0Hqe04Wj1Ymv3Ze33qLD47TJ5L3O6cPU7Mrq9eb2+/Q4j37OAAAAQHRSTlMAAQIEBAUFBQwPFB4fJCUoKiosQEhJS01RUlZZXmdydXaChYuSlJSWmJmoq6uur8LExcvM19fg5ejt8fX2+Pr7SljgewAAAKpJREFUGBkFwQNCAwAAAMDLtl3LtrG4rWXbtvX77gAgZ6grFwC0bhwNVgKgdPZx8b0dgLi+s7Wn0VoAqpfOI9+BNADZI7fLrz2pSEwGHZuH+78lSK8ZLkLezF3ooyUG3VPXq2USei9WngeyoG195yBYWDF3E/2pAhl1e9Gr8bGT+bfOFCC2fnvh4X7rcqIAQNNu+HT6sxkAjceTL/2ZAIhv+PorBwBJxfkA//dFHSCBy/UTAAAAAElFTkSuQmCC);background-image:url(/resources/src/mediawiki.action/images/green-checkmark.png?2014-06-07T20:38:20Z)!ie;background-position:left}.postedit-close{position:absolute;padding:0 .8em;right:0;top:0;font-size:1.25em;font-weight:bold;line-height:2.3em;color:black;text-shadow:0 0.0625em 0 white;text-decoration:none;opacity:0.2;filter:alpha(opacity=20)}.postedit-close:hover{color:black;text-decoration:none;opacity:0.4;filter:alpha(opacity=40)}
/* cache key: amwiki-cw_:resourceloader:filter:minify-css:7:15ea67a4694b210071ab6e4bb25a49e7 */</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:black;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}
/* cache key: amwiki-cw_:resourceloader:filter:minify-css:7:ae3fa4570b5ac0c6cf7b3776c8ae4d6f */</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/load(2).php">
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: amwiki-cw_:resourceloader:filter:minify-css:7:52e794e8301ba480f5926b2d44f7d7bb */</style>
<script src="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/load(3).php"></script><script src="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/load(4).php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Advanced_Scripting_(AMX_Mod_X)","wgTitle":"Advanced Scripting (AMX Mod X)","wgCurRevisionId":10277,"wgRevisionId":10277,"wgArticleId":1542,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Scripting (AMX Mod X)"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Advanced_Scripting_(AMX_Mod_X)","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":false,"searchNs101":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: amwiki-cw_:resourceloader:filter:minify-js:7:088aa06d31e4117cb662084dc351f947 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script><script src="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/load(5).php"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--><link type="text/css" rel="stylesheet" charset="UTF-8" href="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/translateelement.css"><style type="text/css">/* This is not a zero-length file! */</style><style type="text/css">/* This is not a zero-length file! */</style></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Advanced_Scripting_AMX_Mod_X skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Расширенный сценарий (AMX Mod X)</font></font></span></h1>
						<div id="bodyContent">
								<div id="siteSub">From AlliedModders Wiki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
					Перейти к:					 </font></font><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#mw-navigation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">навигация</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 					 </font></font><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#p-search"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">поиск</font></font></a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В этой статье мы кратко некоторые из более продвинутых тема </font></font><a href="https://wiki.alliedmods.net/Category:Scripting_(AMX_Mod_X)" title="Категория: Сценарии (AMX Mod X)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMX Mod X Scripting</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .
</font></font></p>
<div id="toc" class="toc"><div id="toctitle"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">содержание</font></font></h2><span class="toctoggle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;[ </font></font><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#" class="internal" id="togglelink"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">скрыть</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]&nbsp;</font></font></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#Tasks"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задачи</font></font></span></a></li>
<li class="toclevel-1 tocsection-2"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#Menus"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">меню</font></font></span></a></li>
<li class="toclevel-1 tocsection-3"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#Events.2FMessages"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">События / Сообщения</font></font></span></a></li>
<li class="toclevel-1 tocsection-4"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#Catching_Log_Messages"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Лог сообщений журнала</font></font></span></a></li>
<li class="toclevel-1 tocsection-5"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#Multi-Lingual_Support"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Многоязычная поддержка</font></font></span></a></li>
<li class="toclevel-1 tocsection-6"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#SQL_Support"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Поддержка SQL</font></font></span></a></li>
<li class="toclevel-1 tocsection-7"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#Regular_Expressions"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">регулярных выражений</font></font></span></a></li>
<li class="toclevel-1 tocsection-8"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#Entities"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">объектов</font></font></span></a></li>
<li class="toclevel-1 tocsection-9"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#FakeMeta"><span class="tocnumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 </font></font></span> <span class="toctext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FakeMeta</font></font></span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Tasks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задания</font></font></span></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задачами являются таймеры, которые позволяют запускать код с интервалом один раз или повторяться. </font><font style="vertical-align: inherit;">Они полезны для таких вещей, как ожидание несколько секунд, установка объектов для уничтожения самих себя или повторение задачи снова и снова.
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Задачу можно задать несколькими способами. </font><font style="vertical-align: inherit;">Фактической функцией является set_task ():
</font></font></p>
<pre class="pawn"><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_task </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Float</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">time</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , id = </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , параметр </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">""</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , len = </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , flags </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">""</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , repeat = </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Параметры разбиваются как таковые:
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Float: time - интервал таймера в секундах (минимум 0,1 секунды)
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function [] - Строка, содержащая публичную функцию для запуска по таймеру
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id - уникальный идентификатор для назначения заданию
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> параметр - массив содержит данные для отправки функции таймера
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> len - размер массива для отправки функции таймера
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> flags - одно из следующего:
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> «a» - повторять задание определенное количество раз
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> «b» - задача цикла бесконечно
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> «c» - выполнить задачу вовремя после карты timeleft
</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> «d» - выполнить задачу вовремя до отображения карты времени
</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> repeat - если флаги «a», указывает количество раз, чтобы повторить задачу
</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ниже приведен пример задачи. </font><font style="vertical-align: inherit;">Он будет удалять указанного игрока 5 раз, один раз в секунду.
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// функция timed получает массив параметров и его идентификатор задачи </font></font></span>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> slapTask </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> params </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , id </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
   <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> player = params </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font></span>
   <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user_slap </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> player, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> start_slapping </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
   <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> params </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
   params </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = id
    </font></font><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// нам не нужен определенный id </font></font></span>
   <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_task </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«slapTask»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , params, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«a»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что если вы укажете 0 для идентификатора задачи, функция задачи должна выглядеть так:
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> slapTask </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></pre>
<p><br>
</p>
<h1><span class="mw-headline" id="Menus"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">меню</font></font></span></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Меню - это сообщения HUD, которые дают игроку выбор параметров для выбора. </font><font style="vertical-align: inherit;">Они довольно грязные, чтобы иметь дело, но могут быть очень полезны для таких вещей, как выбор голосования и команды.
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Меню должны регистрироваться двумя вещами - набором «ключей», который указывает, сколько вариантов регистрации и строка, которая идентифицирует меню как уникальное. </font><font style="vertical-align: inherit;">Эта строка должна появиться в начале каждого меню, которое вы хотите активировать. </font><font style="vertical-align: inherit;">Когда вы показываете меню, вы можете показать его одному или нескольким игрокам. </font><font style="vertical-align: inherit;">Как только они нажмут клавишу, результат нажатия клавиши будет отправлен на функцию, которую вы зарегистрировали в меню.
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В нашем примере мы создадим меню, которое отображает список пушек: AK47, M4A1 или AWP, для игрока. </font><font style="vertical-align: inherit;">Какой бы он ни выбирал, ему дадут.
</font></font></p>
<pre class="pawn"><span style="color: #339900;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include &lt;amxmodx&gt; </font></font></span>
<span style="color: #339900;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include &lt;amxmisc&gt; </font></font></span>
<span style="color: #339900;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include &lt;fun&gt; </font></font></span>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plugin_init </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_plugin </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Menu Demo"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"1.0"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"BAILOPAN" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">новые</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ключи = MENU_KEY_0 | MENU_KEY_1 | MENU_KEY_2
     </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_menucmd </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_menuid </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Which Weapon ? " </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ключи, </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" giveWeapon " </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Здесь показаны две команды: register_menuid и register_menucmd. </font><font style="vertical-align: inherit;">register_menuid регистрирует короткую фразу, которая появится в начале меню, а затем возвращает идентификатор. </font><font style="vertical-align: inherit;">Этот id является первым параметром register_menucmd. </font><font style="vertical-align: inherit;">Второй параметр register_menucmd - это конфигурация ключа. </font><font style="vertical-align: inherit;">Наше меню будет иметь три варианта, поэтому мы добавили три клавиши меню. На самом деле это побитовые флаги на общую сумму «7», но это не важно. </font><font style="vertical-align: inherit;">Последний параметр - это публичная функция, которая будет обрабатывать результаты меню.
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Затем, как мы показываем меню? </font><font style="vertical-align: inherit;">Давайте сделаем быструю консольную команду: «giveme».
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plugin_init </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_plugin </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Menu Demo»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«1.0»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«BAILOPAN» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">новые</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> клавиши = MENU_KEY_0 | MENU_KEY_1 | MENU_KEY_2
     </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_menucmd </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_menuid </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Какое оружие?» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , клавиши </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«giveWeapon» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_clcmd </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«giveme»)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"showWeaponMenu" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_clcmd аналогичен register_concmd, за исключением того, что он принимает только два параметра. </font><font style="vertical-align: inherit;">Он используется для регистрации любой команды, которую может использовать клиент (кроме специальных, например, + атака).
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Функция clcmd просто даст нам идентификатор игрока </font></font></span>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> showWeaponMenu </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">новое</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> меню </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">новые</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> клавиши = MENU_KEY_0 | MENU_KEY_1 | MENU_KEY_2</font></font><font></font>
&nbsp;<font></font>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Формат </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> меню, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">191</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Какое оружие? ^ п ^ n1. АК47 ^ n2. M4A1 ^ n3. AWP" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">show_menu </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> идентификатор, клавиши, меню </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вернуться</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PLUGIN_HANDLED
 </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Наша функция меню получит идентификатор игрока и ключ, на который они нажали </font></font></span>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> giveWeapon </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id, key </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// будет начинаться с нуля, </font></font></span>
    <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">если </font></font></span> <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ключ == </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
         give_item </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id, </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"weapon_ak47" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span> <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else </font></font></span> <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if </font></font></span> <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key == </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span> <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
         give_item </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id, </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"weapon_m4a1" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span> <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else </font></font></span> <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if </font></font></span> <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key == </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span> <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
         give_item </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id, </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"weapon_awp"</font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">И все готово! </font><font style="vertical-align: inherit;">Строка формата может быть немного запутанной. </font><font style="vertical-align: inherit;">«^ N» означает «новая строка», поэтому меню выглядит хорошо отформатированным. </font><font style="vertical-align: inherit;">Вы можете использовать другие модификаторы в моделях VGUI2, например «\ w» для белого текста, «\ r» для красного текста и «\ y» для желтого текста. </font><font style="vertical-align: inherit;">Когда игрок вводит команду, он увидит меню. </font><font style="vertical-align: inherit;">Когда он нажимает клавишу, функция giveWeapon получит свой идентификатор и номер ключа, который он нажал. </font><font style="vertical-align: inherit;">Затем он получит пистолет, соответствующий тому, что он выбрал.
</font></font></p>
<h1><span class="mw-headline" id="Events.2FMessages"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">События / Сообщения</font></font></span></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Для этой демонстрации мы рассмотрим вышеприведенный пример. </font><font style="vertical-align: inherit;">Каждый раз, когда игрок восстает, ему будет показано меню, чтобы выбрать оружие (обратите внимание - мы игнорируем другие вещи, такие как блокирование покупки и удаление buyzones, это всего лишь демонстрация).
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Сообщения - это способ для клиентов Half-Life разговаривать с серверами, и наоборот. </font><font style="vertical-align: inherit;">Это специально отформатированные списки параметров. </font><font style="vertical-align: inherit;">Например, сообщение «DeathMsg» (идентификатор сообщения 83) имеет три параметра: Attacker (byte), Victim (byte) и Weapon (string). </font><font style="vertical-align: inherit;">Вы можете либо собирать сообщения, либо отправлять их. </font><font style="vertical-align: inherit;">Здесь мы сделаем простую демонстрацию того и другого. </font><font style="vertical-align: inherit;">Сначала давайте сделаем так, чтобы пользователь получил свое меню оружия, когда они появляются.
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plugin_init </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_plugin </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Menu Demo»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«1.0»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«BAILOPAN» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">новые</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ключи = MENU_KEY_0 | MENU_KEY_1 | MENU_KEY_2
     </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_menucmd </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_menuid </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Какое оружие?» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , клавиши </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«giveWeapon» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// flags - b означает «отправлено на одну цель», e означает «цель жива» </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// это событие отправляется, когда игрок порождает </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_event </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«ResetHUD»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«hook_hud»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«be» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hook_hud </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//, поскольку мы не указываем никаких параметров для задачи, </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// идентификатор задачи будет передан функции </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//, это полезно, потому что мы можем повторно использовать нашу старую </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">функцию // show menu, которая принимает идентификатор </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_task </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.2</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"showWeaponMenu"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , id </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что мы получили небольшую задержку, когда получаем сообщение - это чтобы убедиться, что пользователь успел возродиться. </font><font style="vertical-align: inherit;">register_event может принимать больше параметров, чтобы помочь ограничить захваченное вами событие - например, только для соответствия определенным параметрам. </font><font style="vertical-align: inherit;">Вы можете узнать об этом в справочной системе.
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Теперь, скажем, мы хотим выяснить, когда игрок умер ...
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plugin_init </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_plugin </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Message Demo»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«1.0»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«BAILOPAN» </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// это сообщение сообщает всем о смерти, поэтому мы используем </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// флаг «a» - глобальное событие </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_event </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«DeathMsg»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«hook_death» "</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" a " </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hook_death </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Killer = </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read_data </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span> <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// получить первый параметр сообщения </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Victim = </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read_data </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span> <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// получить второй параметр сообщения </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> headshot = </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read_data </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span> <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// был ли это выстрелом в голову? </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">новое</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> оружие </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read_data </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , оружие, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>  <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// получить название оружия </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Или, допустим, мы хотим сделать простую функцию для генерации сообщения о смерти:
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stock</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> make_deathMsg </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Killer, Victim, </font></font><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> weapon </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// message_begin начинает сообщение. </font><font style="vertical-align: inherit;">НИКОГДА не запускайте сразу два сообщения. </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// MSG_ALL означает отправить сообщение всем </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// get_user_msgid возвращает идентификатор имени сообщения </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// {0,0,0} - это вектор начала - здесь не используется </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// 0 - цель - никакой конкретной цели здесь </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">message_begin </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MSG_ALL , </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_user_msgid </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"DeathMsg" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span> 
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">write_byte </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Killer</font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">write_byte </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Victim </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">write_string </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> оружие </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">message_end </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Чтобы узнать больше о сообщениях, ознакомьтесь с форумами HLSDK, AMX Mod X, связанными с HL сайтами программирования или другими плагинами. </font><font style="vertical-align: inherit;">Чтобы перечислить сообщения, которые имеет мода, введите «мета-игра» в консоли сервера (с метамодом загружен). </font><font style="vertical-align: inherit;">Вы также можете использовать register_message, более продвинутый метод обнаружения сообщений, обнаруженный в модуле Engine.
</font></font></p>
<h1><span class="mw-headline" id="Catching_Log_Messages"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Лог сообщений журнала</font></font></span></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Лог сообщений журнала больше не используется, но все же хорошо знать, как это сделать. </font><font style="vertical-align: inherit;">Поскольку сообщения журнала отправляются мод, AMX Mod X сможет их поймать и позволить вам подключить их. </font><font style="vertical-align: inherit;">В нашем примере давайте дадим каждому 16 000 долларов в раунде.
</font></font></p><p>The log messages for rounds are sent like this: World triggered "Round_Start". AMX Mod X will consider "World_triggered" as the first parameter and "Round_Start" as the second parameter. So:
</p>
<pre class="pawn"><span style="color: #339900;">#include &lt;amxmodx&gt;</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">public</span> plugin_init<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    <span style="color: #007373;">register_plugin</span><span style="color: #000000;">(</span><span style="color: #800080;">"Log Demo"</span>, <span style="color: #800080;">"1.0"</span>, <span style="color: #800080;">"BAILOPAN"</span><span style="color: #000000;">)</span>
    <span style="color: #ff0000;">//this will filter for two parameters</span>
    <span style="color: #ff0000;">//roundstart is the public function</span>
    <span style="color: #007373;">register_logevent</span><span style="color: #000000;">(</span><span style="color: #800080;">"roundstart"</span>, <span style="color: #0000dd;">2</span>, <span style="color: #800080;">"0=World triggered"</span>, <span style="color: #800080;">"1=Round_Start"</span><span style="color: #000000;">)</span>
<span style="color: #000000;">}</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">public</span> roundstart<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    <span style="color: #ff0000;">//set a small delay to make sure everyone spawns</span>
    <span style="color: #007373;">set_task</span><span style="color: #000000;">(</span><span style="color: #0000dd;">1.0</span>, <span style="color: #800080;">"roundDelay"</span><span style="color: #000000;">)</span>
<span style="color: #000000;">}</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">public</span> roundDelay<span style="color: #000000;">(</span>taskId<span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    <span style="color: #007700;">new</span> players<span style="color: #000000;">[</span><span style="color: #0000dd;">32</span><span style="color: #000000;">]</span>, num
    <span style="color: #007373;">get_players</span><span style="color: #000000;">(</span>players, num<span style="color: #000000;">)</span><font></font>
&nbsp;<font></font>
    <span style="color: #0000ff;">for</span> <span style="color: #000000;">(</span><span style="color: #007700;">new</span> i=<span style="color: #0000dd;">0</span>; i&lt;num; i++<span style="color: #000000;">)</span>
    <span style="color: #000000;">{</span>
         cs_set_user_money<span style="color: #000000;">(</span>players<span style="color: #000000;">[</span>i<span style="color: #000000;">]</span>, <span style="color: #0000dd;">16000</span><span style="color: #000000;">)</span>
    <span style="color: #000000;">}</span>
<span style="color: #000000;">}</span></pre>
<p>You can also read specific log parameters with read_logdata(), which can only be used inside the "plugin_log()" forward:
</p>
<pre class="pawn"><span style="color: #ff0000;">//receives all log messages</span>
<span style="color: #ff0000;">public</span> plugin_log<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span>
    <span style="color: #007700;">new</span> data<span style="color: #000000;">[</span><span style="color: #0000dd;">32</span><span style="color: #000000;">]</span>
    <span style="color: #007373;">read_logdata</span><span style="color: #000000;">(</span>data, <span style="color: #0000dd;">31</span><span style="color: #000000;">)</span>
<span style="color: #000000;">}</span></pre>
<p><br>
</p>
<h1><span class="mw-headline" id="Multi-Lingual_Support">Multi-Lingual Support</span></h1>
<p>Adding multi-lingual support to a plugin can be difficult, but it's usually worth it if you have clients who are willing to translate your strings into their native language.
</p><p>The first step is to identify what needs to be translated. Say you have a call like this:
</p>
<pre class="pawn"><span style="color: #007700;">new</span> score = get_score<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #007373;">client_print</span><span style="color: #000000;">(</span>id, print_chat, <span style="color: #800080;">"[AMXX] Your score is&nbsp;%d"</span>, score<span style="color: #000000;">)</span></pre>
<p>This is a good candidate for being multi-lingual. First, create a .txt file (preferrably named after your plugin) and store it in addons\amxmodx\data\lang\. Let's use "myplugin.txt" for the example. For each language, add an entry to the file. Entries are set up as 'keys', which are matched to 'translation strings'. Observe:
</p>
<pre>(addons\amxmodx\data\lang\myplugin.txt)<font></font>
<font></font>
[en]<font></font>
SCORE_MSG = Your score is&nbsp;%d<font></font>
<font></font>
[de]<font></font>
SCORE_MSG = Ihr Spielergebnis ist&nbsp;%d<font></font>
<font></font>
[es]<font></font>
SCORE_MSG = Su cuenta es&nbsp;%d<font></font>
<font></font>
[fr]<font></font>
SCORE_MSG = Votre score est&nbsp;%d<font></font>
</pre>
<p>Then, in plugin_init(), you must register the language keys:
</p>
<pre class="pawn"><span style="color: #ff0000;">public</span> plugin_init<span style="color: #000000;">(</span><span style="color: #000000;">)</span>
<span style="color: #000000;">{</span><font></font>
    ...<font></font>
    <span style="color: #ff0000;">//assumes placed in amxmodx\data\lang</span>
    <span style="color: #007373;">register_dictionary</span><span style="color: #000000;">(</span><span style="color: #800080;">"myplugin.txt"</span><span style="color: #000000;">)</span>
<span style="color: #000000;">}</span></pre>
<p>Now, here comes the hard part. AMX Mod X's Multi-Lingual API is built into the format() style routines. For anything that looks like or uses format()-style strings, you can use the ML API.
</p>
<pre class="pawn">    <span style="color: #007373;">client_print</span><span style="color: #000000;">(</span>id, print_chat, <span style="color: #800080;">"[AMXX]&nbsp;%L"</span>, id, <span style="color: #800080;">"SCORE_MSG"</span>, get_score<span style="color: #000000;">(</span><span style="color: #000000;">)</span><span style="color: #000000;">)</span></pre>
<p>Let's break this down. For each&nbsp;%L that appears, we need at least two parameters. The first parameter is the TARGET. This must be a player id, LANG_SERVER (meaning show in the server's native language), or LANG_PLAYER. LANG_PLAYER is a special modifier that should only be used when sending a message to all players - it means "show in every player's native language". The second parameter is the key string that identifies the language phrase to translate. Lastly, if the translated string requires any parameters itself (ours needs&nbsp;%d, one integer), that must be added as well.
</p><p>You can get very complicated designs with this, but it's recommended that you keep things simple for clarity. Here is a final example using a global message to all players, assuming the key HELLO is properly translated in all the languages available:
</p>
<pre class="pawn">    <span style="color: #007373;">client_print</span><span style="color: #000000;">(</span><span style="color: #0000dd;">0</span>, print_chat, <span style="color: #800080;">"[AMXX]&nbsp;%L"</span>, LANG_PLAYER, <span style="color: #800080;">"HELLO"</span><span style="color: #000000;">)</span></pre>
<h1><span class="mw-headline" id="SQL_Support">SQL Support</span></h1>
<p>SQL support has greatly improved in AMX Mod X. There is a common set of natives that work with a single driver, so as long as one (and only one) SQL module is loaded, the SQL (or DBI) natives will work. Here is a short primer on how to use the DBI natives:
</p>
<pre class="pawn"><span style="color: #ff0000;">//Create a connection</span>
	<span style="color: #007700;">new</span> Sql:mysql = dbi_connect<span style="color: #000000;">(</span><span style="color: #800080;">"localhost"</span>, <span style="color: #800080;">"dvander"</span>, <span style="color: #800080;">"pass"</span>, <span style="color: #800080;">"dbase"</span><span style="color: #000000;">)</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">//If the connection is less than 1, it is bad	</span>
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">(</span>mysql &lt; SQL_OK<span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
		<span style="color: #007700;">new</span> err<span style="color: #000000;">[</span><span style="color: #0000dd;">255</span><span style="color: #000000;">]</span>
		<span style="color: #007700;">new</span> errNum = dbi_error<span style="color: #000000;">(</span>mysql, err, <span style="color: #0000dd;">254</span><span style="color: #000000;">)</span>
		<span style="color: #007373;">server_print</span><span style="color: #000000;">(</span><span style="color: #800080;">"error1:&nbsp;%s|%d"</span>, err, errNum<span style="color: #000000;">)</span>
		<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">1</span>
	<span style="color: #000000;">}</span><font></font>
&nbsp;<font></font>
	<span style="color: #007373;">server_print</span><span style="color: #000000;">(</span><span style="color: #800080;">"Connection handle:&nbsp;%d"</span>, mysql<span style="color: #000000;">)</span>
<span style="color: #ff0000;">//Run a query</span>
	<span style="color: #007700;">new</span> Result:ret = dbi_query<span style="color: #000000;">(</span>mysql, <span style="color: #800080;">"INSERT INTO config (keyname, val) VALUES ('amx', 'yes')"</span><span style="color: #000000;">)</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">//If the query is less than RESULT_NONE, it failed	</span>
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">(</span>ret &lt; RESULT_NONE<span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
		<span style="color: #007700;">new</span> err<span style="color: #000000;">[</span><span style="color: #0000dd;">255</span><span style="color: #000000;">]</span>
		<span style="color: #007700;">new</span> errNum = dbi_error<span style="color: #000000;">(</span>mysql, err, <span style="color: #0000dd;">254</span><span style="color: #000000;">)</span>
		<span style="color: #007373;">server_print</span><span style="color: #000000;">(</span><span style="color: #800080;">"error2:&nbsp;%s|%d"</span>, err, errNum<span style="color: #000000;">)</span>
		<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">1</span>
	<span style="color: #000000;">}</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">//Do a select query	</span>
	<span style="color: #007700;">new</span> Result:res = dbi_query<span style="color: #000000;">(</span>mysql, <span style="color: #800080;">"SELECT * FROM config"</span><span style="color: #000000;">)</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">//If the query is less than or equal to RESULT_FAILED, you got an invalid result and can't do anything with it.</span>
	<span style="color: #0000ff;">if</span> <span style="color: #000000;">(</span>res &lt;= RESULT_FAILED<span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
		<span style="color: #007700;">new</span> err<span style="color: #000000;">[</span><span style="color: #0000dd;">255</span><span style="color: #000000;">]</span>
		<span style="color: #007700;">new</span> errNum = dbi_error<span style="color: #000000;">(</span>mysql, err, <span style="color: #0000dd;">254</span><span style="color: #000000;">)</span>
		<span style="color: #007373;">server_print</span><span style="color: #000000;">(</span><span style="color: #800080;">"error3:&nbsp;%s|%d"</span>, err, errNum<span style="color: #000000;">)</span>
		<span style="color: #0000ff;">return</span> <span style="color: #0000dd;">1</span>
	<span style="color: #000000;">}</span><font></font>
&nbsp;<font></font>
	<span style="color: #007373;">server_print</span><span style="color: #000000;">(</span><span style="color: #800080;">"Result handle:&nbsp;%d"</span>, res<span style="color: #000000;">)</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">//Loop through the result set	</span>
	<span style="color: #0000ff;">while</span> <span style="color: #000000;">(</span>res &amp;&amp; dbi_nextrow<span style="color: #000000;">(</span>res<span style="color: #000000;">)</span>&gt;<span style="color: #0000dd;">0</span><span style="color: #000000;">)</span> <span style="color: #000000;">{</span>
		<span style="color: #007700;">new</span> qry<span style="color: #000000;">[</span><span style="color: #0000dd;">32</span><span style="color: #000000;">]</span>
<span style="color: #ff0000;">//Get the column/field called "keyname" from the result set</span>
		dbi_result<span style="color: #000000;">(</span>res, <span style="color: #800080;">"keyname"</span>, qry, <span style="color: #0000dd;">32</span><span style="color: #000000;">)</span>
		<span style="color: #007373;">server_print</span><span style="color: #000000;">(</span><span style="color: #800080;">"result:&nbsp;%s"</span>, qry<span style="color: #000000;">)</span>
	<span style="color: #000000;">}</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">//Free the result set	</span>
	dbi_free_result<span style="color: #000000;">(</span>res<span style="color: #000000;">)</span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;">//Close the connection	</span>
	dbi_close<span style="color: #000000;">(</span>mysql<span style="color: #000000;">)</span></pre>
<h1><span class="mw-headline" id="Regular_Expressions">Regular Expressions</span></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Регулярные выражения позволяют описывать способы разбивки строк. </font><font style="vertical-align: inherit;">Они чрезвычайно сильны. </font><font style="vertical-align: inherit;">AMX Mod X использует совместимую с Perl библиотеку RE, вы можете прочитать специфику на своем сайте. </font><font style="vertical-align: inherit;">AMX Mod X предлагает регулярные выражения с модулем regex_amxx. </font><font style="vertical-align: inherit;">Вот краткий пример:
</font></font></p>
<pre class="pawn"><span style="color: #339900;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include &lt;amxmodx&gt; </font></font></span>
<span style="color: #339900;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#include &lt;regex&gt;</font></font></span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plugin_init </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_plugin </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Regex"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"1.0"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"BAILOPAN" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register_srvcmd </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"amx_regex"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"cmdtest" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span><font></font>
&nbsp;<font></font>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cmdtest </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> str </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Это просто!" </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// этот шаблон будет соответствовать любой строке, содержащей </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// две группы символов, разделенные пробелом </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// две группы - подстроки 1 и 2 </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">новый</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> шаблон </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"(. +) (. +)"</font></font></span><font></font>
&nbsp;<font></font>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> num, error </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">128 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// str = string </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// pattern = pattern для использования </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// num = специальный код случая возврата </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// error = если есть ошибка, он будет здесь </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// 127 - max max length </font></font></span>
    <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Regex: re = regex_match </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> str, pattern, num, error, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font></font>
&nbsp;<font></font>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server_print </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Результат =% d, num =% d, ошибка =% s»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , re, num, ошибка </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span>    <font></font>
&nbsp;<font></font>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// REGEX_OK означает, что существует совпадение </font></font></span>
    <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if </font></font></span> <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> re&gt; = REGEX_OK </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span>
        <span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> str2 </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font></span>
        <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//, поскольку он возвращал REGEX_OK, num имеет </font></font></span>
        <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// количество подстрок, совпадающих с шаблоном. </font></font></span>
        <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// первая подстрока (0), похоже, соответствует всей строке. </font></font></span>
        <span style="color: #0000ff;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for </font></font></span> <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> i = </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; i &lt;num; i ++ </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
        <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            regex_substr </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> re, i, str2, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">63 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
            <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server_print </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Substring% d:% s"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , i, str2 </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
        <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span>
        <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// в регулярном выражении используется память. </font></font></span>
        <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// вы должны освободить его, если вы получите REGEX_OK</font></font></span>
        <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Это также установит re в 0.</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        regex_free </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> re </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
    <span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span><font></font>
&nbsp;<font></font>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// обратите внимание на недопустимый шаблон регулярного выражения </font></font></span>
    <span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// это вернет REGEX_PATTERN_FAIL, -1</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
    re = regex_match </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Bruno the Bandit»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«. + (]»</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , num, error, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font></font>
&nbsp;<font></font>
    <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server_print </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Результат =% d, num =% d, ошибка =% s"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , re, num, ошибка </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Если вы скомпилируете и запустите этот скрипт (amx_regex в консоли сервера), вы увидите следующий вывод:
</font></font></p>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Результат = 1, num = 3, ошибка =</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Подстрока 0: Это просто!</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Подстрока 1: Это</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Подстрока 2: Walky!</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Результат = -1, num = 4, ошибка = отсутствует) </font></font><font></font>
</pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Обратите внимание, что третий параметр «regex_match ()» является специальным. </font><font style="vertical-align: inherit;">Это либо количество подстрок, код ошибки совпадения, либо позиция ошибки шаблона (в зависимости от возвращаемого значения).
</font></font></p>
<h1><span class="mw-headline" id="Entities"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">юридические лица</font></font></span></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Объекты - это в основном любая динамическая структура в Half-Life. </font><font style="vertical-align: inherit;">Игроки, оружие, гранаты и другие маленькие предметы, лежащие вокруг, являются сущностями. </font><font style="vertical-align: inherit;">У них есть уникальный «идентификатор объекта», который вы можете использовать для изменения своих значений.
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Я не буду вдаваться в это слишком глубоко, так как это сложный вопрос, но модуль Engine содержит туземцы, которые позволяют вам изменять свойства объектов или искать объекты в игре своим классом / владельцем (класс - это тип объекта, такой как как «игрок»).
</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">В этом примере мы создадим сущность, которая выглядит как поддельный игрок, держащий пистолет.
</font></font></p>
<pre class="pawn">	<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// создаем базовый объект </font></font></span>
	<span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entid = create_entity </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"info_target" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
	<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// устанавливаем его имя класса</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_string </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entid, EV_SZ_classname, </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"some_guy" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
	<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// устанавливаем свою модель</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_model </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entid, </font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"models / w_suit.mdl" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
	<span style="color: #007700;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new </font></font></span> <span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Float</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Vec </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{ </font></font></span><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">} </font></font></span>
	<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// установить его начало</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_origin </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entid, Vec </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
	<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// установить некоторые основные свойства</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_int </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entid, EV_INT_solid, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_int </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entid, EV_INT_movetype, </font></font><span style="color: #0000dd;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
	<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// создаем оружие - благодаря pimp_daddy! </font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
	entWeapon = create_entity </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"info_target" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_string </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entWeapon, EV_SZ_classname, weaponString </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
	<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// устанавливается следовать за</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_int </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entWeapon, EV_INT_movetype, MOVETYPE_FOLLOW </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_int </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entWeapon, EV_INT_solid, SOLID_NOT </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_edict </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entWeapon, EV_ENT_aiment, entid </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
	entity_set_model </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entWeapon,</font></font><span style="color: #800080;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"models / p_m4a1.mdl" </font></font></span><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Вы также можете изменить другие основные вещи, такие как:
</font></font></p>
<pre class="pawn"><span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// как set_user_armor () работает в весело модуль </font></font></span>
<span style="color: #ff0000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">фондовой</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> set_armor </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> плеер, </font></font><span style="color: #007373;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Float</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : значение </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
    entity_set_int </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> игрок, EV_FL_armorvalue, значение </font></font><span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span>
<span style="color: #000000;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></pre>
<p><br>
</p>
<h1><span class="mw-headline" id="FakeMeta"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FakeMeta</font></font></span></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FakeMeta - это следующее поколение сценариев Half-Life. </font><font style="vertical-align: inherit;">Это, по сути, позволяет вам писать плагины MetaMod в Pawn. </font><font style="vertical-align: inherit;">Это чрезвычайно мощно, и по этой причине здесь это не будет рассмотрено. </font><font style="vertical-align: inherit;">Это просто, чтобы рассказать вам, на что он способен.
</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Звонки с компьютера / DLL
</font></font><ul>
<li>There are two types of functions in the HL namespace - Engine functions and DLL functions (DLL functions are ones the game/mod library must export). Both of these can be called using the FakeMeta module using the dllfunc() and engfunc() natives. The parameters are directly passed on to MetaMod, so be careful! You could easily crash a server doing the wrong thing.
</li>
</ul>
</li>
<li> Engine/DLL Hooks
<ul>
<li>As stated above, HL provides Engine and DLL functions. You can also hook/supercede these calls using register_forward. You can supercede these calls using fm_return() and return PLUGIN_HANDLED. Again, make sure you know what you are doing. Malformed hooks will cause crashes.
</li>
</ul>
</li>
<li> Easy entity manipulation
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FakeMeta заменяет функцию __ () объекта Engine туземцами, которые называются «pev ()» и «set_pev ()». </font><font style="vertical-align: inherit;">Они немного проще в использовании. </font><font style="vertical-align: inherit;">Для получения дополнительной информации см. Fakemeta.
</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Частный взлом
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Частные смещения являются смещениями в блок памяти, называемый «pvPrivateData». </font><font style="vertical-align: inherit;">Правильные смещения часто могут изменять игровые функции, такие как деньги в Counter-Strike, или ресурсы в Natural-Selection. </font><font style="vertical-align: inherit;">Однако неправильные смещения могут привести к сбоям в игре.
</font></font></li>
</ul>
</li>
</ul>

<!-- 
NewPP limit report
CPU time usage: 0.132 seconds
Real time usage: 0.134 seconds
Preprocessor visited node count: 224/1000000
Preprocessor generated node count: 460/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key amwiki-cw_:pcache:idhash:1542-0!*!0!!en!*!* and timestamp 20171113155518 and revision id 10277
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="https://wiki.alliedmods.net/index.php?title=Advanced_Scripting_(AMX_Mod_X)&amp;oldid=10277">https://wiki.alliedmods.net/index.php?title=Advanced_Scripting_(AMX_Mod_X)&amp;oldid=10277</a>"				</div>
												<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.alliedmods.net/Special:Categories" title="Специальные: Категории"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Категория</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><ul><li><a href="https://wiki.alliedmods.net/Category:Scripting_(AMX_Mod_X)" title="Категория: Сценарии (AMX Mod X)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Скрипты (AMX Mod X)</font></font></a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Меню навигации</font></font></h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-login"><a href="https://wiki.alliedmods.net/index.php?title=Special:UserLogin&amp;returnto=Advanced+Scripting+%28AMX+Mod+X%29" title="Вам предлагается войти в систему;  однако это не обязательно [alt-shift-o]" accesskey="o"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Авторизоваться</font></font></a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li id="ca-nstab-main" class="selected"><span><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)" title="Просмотр страницы содержимого [alt-shift-c]" accesskey="c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">страница</font></font></a></span></li>
					<li id="ca-talk" class="new"><span><a href="https://wiki.alliedmods.net/index.php?title=Talk:Advanced_Scripting_(AMX_Mod_X)&amp;action=edit&amp;redlink=1" title="Обсуждение страницы содержания [alt-shift-t]" accesskey="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">обсуждение</font></font></a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label" tabindex="0"><span>Variants</span><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#" tabindex="-1"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Читать</font></font></a></span></li>
					<li id="ca-viewsource"><span><a href="https://wiki.alliedmods.net/index.php?title=Advanced_Scripting_(AMX_Mod_X)&amp;action=edit" title="Эта страница защищена.  Вы можете просмотреть его источник [alt-shift-e]" accesskey="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Посмотреть источник</font></font></a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="https://wiki.alliedmods.net/index.php?title=Advanced_Scripting_(AMX_Mod_X)&amp;action=history" title="Предыдущие версии этой страницы [alt-shift-h]" accesskey="h"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Посмотреть историю</font></font></a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label" tabindex="0"><span>Actions</span><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#" tabindex="-1"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="https://wiki.alliedmods.net/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Поиск в AlliedModders Wiki [alt-shift-f]" accesskey="f" id="searchInput" tabindex="1" autocomplete="off"><input type="hidden" value="Special:Search" name="title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><input type="submit" name="go" value=" Go" title="Перейдите на страницу с таким точным именем, если существует" id="searchButton" class="searchButton"></font></font>		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel" class="collapsible-nav">
					<div id="p-logo" role="banner"><a style="background-image: url(/images/wiki.png);" href="https://wiki.alliedmods.net/Main_Page" title="Перейти на главную страницу"></a></div>
				<div class="portal first persistent" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
	<h3 id="p-navigation-label"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">навигация</font></font></h3>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="https://wiki.alliedmods.net/Main_Page" title="Перейдите на главную страницу [alt-shift-z]" accesskey="z"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Главная страница</font></font></a></li>
			<li id="n-Projects"><a href="https://wiki.alliedmods.net/AlliedModders_Wiki:Community_portal"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">проектов</font></font></a></li>
			<li id="n-currentevents"><a href="https://wiki.alliedmods.net/AlliedModders_Wiki:Current_events" title="Поиск исходной информации о текущих событиях"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Текущие события</font></font></a></li>
			<li id="n-recentchanges"><a href="https://wiki.alliedmods.net/Special:RecentChanges" title="Список последних изменений в wiki [alt-shift-r]" accesskey="r"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Недавние изменения</font></font></a></li>
			<li id="n-randompage"><a href="https://wiki.alliedmods.net/Special:Random" title="Загрузите случайную страницу [alt-shift-x]" accesskey="x"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Случайная статья</font></font></a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" rel="nofollow" title="Место, где можно узнать"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Помогите</font></font></a></li>
		</ul>
	</div>
</div>
<div class="portal expanded" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
	<h3 id="p-tb-label" tabindex="2"><a href="https://wiki.alliedmods.net/Advanced_Scripting_(AMX_Mod_X)#" aria-haspopup="true" aria-controls="p-tb-list" role="button" aria-pressed="true" aria-expanded="true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">инструменты</font></font></a></h3>
	<div class="body" style="display: block;">
		<ul id="p-tb-list">
			<li id="t-whatlinkshere"><a href="https://wiki.alliedmods.net/Special:WhatLinksHere/Advanced_Scripting_(AMX_Mod_X)" title="Список всех страниц вики, которые указаны здесь [alt-shift-j]" accesskey="j"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ссылки сюда</font></font></a></li>
			<li id="t-recentchangeslinked"><a href="https://wiki.alliedmods.net/Special:RecentChangesLinked/Advanced_Scripting_(AMX_Mod_X)" title="Последние изменения в страницах, которые ссылаются на эту страницу [alt-shift-k]" accesskey="k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Связанные изменения</font></font></a></li>
			<li id="t-specialpages"><a href="https://wiki.alliedmods.net/Special:SpecialPages" title="Список всех специальных страниц [alt-shift-q]" accesskey="q"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Специальные страницы</font></font></a></li>
			<li id="t-print"><a href="https://wiki.alliedmods.net/index.php?title=Advanced_Scripting_(AMX_Mod_X)&amp;printable=yes" rel="alternate" title="Версия для печати на этой странице [alt-shift-p]" accesskey="p"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Версия для печати</font></font></a></li>
			<li id="t-permalink"><a href="https://wiki.alliedmods.net/index.php?title=Advanced_Scripting_(AMX_Mod_X)&amp;oldid=10277" title="Постоянная ссылка на эту ревизию страницы"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Постоянная ссылка</font></font></a></li>
			<li id="t-info"><a href="https://wiki.alliedmods.net/index.php?title=Advanced_Scripting_(AMX_Mod_X)&amp;action=info"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Информация о странице</font></font></a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Эта страница последний раз была изменена 26 февраля 2017 года, в 07:04.</font></font></li>
											<li id="footer-info-viewcount"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">К этой странице обращались 64 382 раза.</font></font></li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.alliedmods.net/AlliedModders_Wiki:Privacy_policy" title="AlliedModders Wiki: Политика конфиденциальности"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Политика конфиденциальности</font></font></a></li>
											<li id="footer-places-about"><a href="https://wiki.alliedmods.net/AlliedModders_Wiki:About" title="AlliedModders Wiki:About"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">О пользователе AlliedModders Wiki</font></font></a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.alliedmods.net/AlliedModders_Wiki:General_disclaimer" title="AlliedModders Wiki:General disclaimer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Отказ от ответственности</font></font></a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="https://www.mediawiki.org/"><img src="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/load(6).php"></script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":55});
}</script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./Advanced Scripting (AMX Mod X) - AlliedModders Wiki_files/translate_24dp.png" width="20" height="20" alt="Google Переводчик"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Исходный текст</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Предложить лучший вариант перевода</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>
	

<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div><script charset="UTF-8" type="text/javascript">vkdId ='lkjejgoogbgnhfdoglcghhmhakknigig';</script><script charset="UTF-8" type="text/javascript">extensionsURL = 'chrome-extension://lkjejgoogbgnhfdoglcghhmhakknigig/';</script><script charset="UTF-8" type="text/javascript">vkd_settings =JSON.parse('{"showBitrate":"showHover","landCode":"ru"}')</script><script charset="UTF-8" type="text/javascript" src="chrome-extension://lkjejgoogbgnhfdoglcghhmhakknigig/assets/js/audio_vk.js"></script><script charset="UTF-8" type="text/javascript">var main = {<br>    updatePlugin: function() {<br>        var dataTimeBlock = document.createElement('div');<br>        dataTimeBlock.innerHTML = new Date();<br>    },<br><br>    state: {},<br>    setState: function(object) {<br>        this.state = this.merge(object, this.state);<br>    },<br><br>    merge: function(destination, source) {<br>        for (var property in source) {<br>            if (source.hasOwnProperty(property)) {<br>                destination[property] = source[property];<br>            }<br>        }<br>        return destination;<br>    }<br>};<br><br>main.updatePlugin();<br></script><div class="suggestions" style="display: none; font-size: 13px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>